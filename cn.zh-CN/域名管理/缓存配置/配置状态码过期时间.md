---
keyword: [状态码过期时间, CDN]
---

# 配置状态码过期时间

为了迅速响应非2XX状态码和减轻源站压力，您可以针对静态资源配置指定目录和文件后缀名的状态码过期时间，实现由CDN节点直接响应非2XX状态码。

## 适用场景

正常情况下CDN节点成功从源站获取到所请求的资源，即源站响应了2XX状态码时，会按照CDN节点配置的缓存过期规则进行处理。如果源站无法迅速响应非2XX状态码，且不希望所有请求全部由源站响应，可以配置状态码过期时间，由CDN节点直接响应非2XX状态码，减轻源站压力。

目前支持对以下状态码配置过期时间：

-   4XX：400、401、403、404、405、407、414。
-   5XX：500、501、502、503、504、509、514。

**说明：**

-   对于303、304、401、407、600和601状态码，CDN不进行缓存。
-   对于204、305、400、403、404、405、414、500、501、502、503和504状态码，如果源站响应了Cache-Control，则遵循源站的Cache-Control规则；如果未设置状态码过期时间，缓存时间默认为1秒。

## 操作步骤

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，单击目标域名对应的**管理**。

4.  在指定域名的左侧导航栏，单击**缓存配置**。

5.  单击**状态码过期时间**页签。

6.  单击**添加**，配置状态码过期时间。

    ![配置文件和目录状态码过期时间](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6009754161/p64200.png)

    |类型|注意事项|
    |:-|:---|
    |**类型**|支持**目录**和**文件后缀名**这两种类型，请根据您的实际需求选择。**说明：** 如果您同时配置了目录和文件后缀名这两种类型的状态码过期时间，CDN会按照配置的先后顺序进行匹配，先配置的类型会优先生效，规则生效后将不会再继续匹配其他的规则。 |
    |**地址**|    -   类型选择为**目录**，填写说明如下：
        -   每次只能添加一条目录。
        -   支持输入目录的完整路径，须以正斜线（/）开头，例如/directory/aaa。
    -   类型选择为**文件后缀名**，填写说明如下：
        -   支持输入一个或多个文件后缀名，多个文件后缀名用英文逗号（,）分隔，例如`JPG,TXT`。
        -   不支持用星号（\*）匹配所有的文件类型。 |
    |**状态码过期时间设置**|    -   支持设置4XX、5XX状态码的过期时间，设置时间为秒，多个状态码用英文逗号（,）分隔，例如403=10,404=15。
    -   不支持设置2XX和3XX状态码的过期时间，仅支持设置201、302等精确状态码的过期时间，例如201=10,302=15。 |

7.  单击**确定**，完成配置。

    成功配置状态码过期时间后，您可以在**状态码过期时间**列表中，对当前的配置进行**修改**或**删除**操作。


## 相关API

[BatchSetCdnDomainConfig](/cn.zh-CN/新版API参考/域名管理类接口/批量配置域名.md)

