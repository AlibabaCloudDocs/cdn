# 缓存概述

您使用CDN加速静态资源时，CDN会将源站上的资源缓存到距离客户端最近的CDN节点上。当您访问该静态资源时，可直接从CDN的缓存节点上获取，有效避免通过较长的链路回源，提高资源访问效率。

## 默认缓存时间

如果您的源站和CDN控制台上均没有配置缓存策略，此时将遵循阿里云CDN的默认缓存规则。CDN的默认缓存时间最短为10秒，最长为3600秒，您可以在CDN控制台修改默认缓存时间。具体操作，请参见[配置缓存过期时间](/cn.zh-CN/域名管理/缓存配置/配置缓存过期时间.md)。

**说明：** 设置的缓存时间长短会导致回源流量不一样，回源费用也有所不同，建议根据不同的业务需求设置缓存时长。设置的缓存时间过短，会导致CDN频繁回源，从而增加源站的流量消耗。

-   默认缓存时间计算方法：t=（curtime-last\_modified）×0.1。
-   默认缓存时间取值范围：\[10,3600\]。

参数说明如下：

-   t：默认缓存时间，单位为秒。
-   curtime：当前时间。
-   last\_modified：服务器上资源的最后修改时间。

举例说明如下：

-   当对象`last-modified`为`20140801 00:00:00`，当前时间为`20140801 00:01:00`时，（curtime-last\_modified）×0.1=6s，则默认缓存时间为10s，因为最小缓存时间为10s。
-   当对象`last-modified`为`20140801 00:00:00`，当前时间为`20140802 00:00:00`时，（curtime-last\_modified）×0.1=8640s，则默认缓存时间为3600s，因为最大缓存时间为3600s。
-   当对象`last-modified`为`20140801 00:00:00`，当前时间为`20140801 00:10:00`时，（curtime-last\_modified）×0.1=60s，则默认缓存时间为60s。

## 默认缓存规则

-   如果源站没有`last-modified`响应头，但有`ETag`，则认为该对象为静态资源，CDN会将其默认缓存时间设置为`dft_expires`指令配置的最小值。
-   如果源站没有`last-modified`响应头，也没有`ETag`，则认为该对象为动态资源，CDN会将其默认缓存时间设置为0，即不缓存，每次都回源获取资源。

参数说明如下：

-   Etag：资源标识。
-   dft\_expires：本地缓存目录中资源的过期时间，由服务器指定具体的时间。

## 缓存相关功能

通过缓存配置功能，您可以对域名执行如下操作。

|功能|说明|
|--|--|
|[配置缓存过期时间](/cn.zh-CN/域名管理/缓存配置/配置缓存过期时间.md)|您可以针对静态资源配置指定目录和文件后缀名的缓存过期时间，使其在CDN上按照缓存规则进行缓存。|
|[配置状态码过期时间](/cn.zh-CN/域名管理/缓存配置/配置状态码过期时间.md)|您可以配置资源的指定目录或文件后缀名的状态码过期时间。|
|[配置自定义HTTP响应头](/cn.zh-CN/域名管理/缓存配置/配置自定义HTTP响应头.md)|您可以配置资源缓存过期的HTTP消息头。|
|[配置自定义页面](/cn.zh-CN/域名管理/缓存配置/配置自定义页面.md)|您可以根据所需自定义HTTP或HTTPS响应状态码跳转的完整URL地址。|
|[配置URI重写规则](/cn.zh-CN/域名管理/缓存配置/配置URI重写规则.md)|您可以对请求的URI进行修改，实现302重定向到目标URI。|

