---
keyword: [Range, 回源]
---

# 配置Range回源

本文为您介绍在控制台配置Range回源的具体操作和注意事项。成功配置Range回源后可减少回源流量消耗，并且提升资源响应时间，有利于音视频等较大文件的内容分发。

Range回源是指客户端通知源站服务器只返回指定范围内的部分内容。配置Range回源的注意事项如下：

-   配置Range回源之前，需要源站支持Range请求，即HTTP请求头中包含Range字段，并且源站能够响应正确的206文件分片。
-   Range回源是可选配置项，CDN控制台默认不开启。

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，单击目标域名对应的**管理**。

4.  在指定域名的左侧导航栏，单击**视频相关**。

5.  在**Range回源**区域，单击**修改**。

6.  选择**Range回源**为**开启**、**关闭**或**强制**。

    ![Range回源](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1998068951/p64294.png)

    |Range回源设置|具体描述|示例|
    |:--------|:---|:-|
    |**开启**|当您需要访问资源文件指定范围内的部分内容时，为了提高资源响应效率，则需要开启Range回源。开启Range请求回源后，源站需要依据Range响应文件的字节范围，同时CDN节点也会向客户端响应相应字节范围的内容。**说明：** 如果客户端是Range请求，则回源也是Range请求。只有第一次请求是按照客户端请求里的Range大小回用户源站，后面的请求全部强制按照512 KB分片大小回用户源站。

|如果客户端向CDN请求中含有`range:0-100`，则源站收到的请求中也会含有`range:0-100`。源站响应CDN节点，CDN节点响应客户端字节范围为0~100，共101个字节。|
    |**关闭**|当您需要访问资源文件的全部内容时，则需要关闭Range回源。关闭Range回源后，CDN上层节点会向源站请求全部的文件，由于客户端收到Range定义的字节后自动断开HTTP连接，请求的文件没有缓存到CDN节点上，最终导致缓存命中率较低，且回源流量较大。|如果客户端向CDN请求中含有`range:0-100`，则源站收到的请求中没有Range这个参数。源站响应CDN节点完整文件，CDN节点响应客户端的是101个字节，由于链接断开，会导致该文件没有缓存到CDN节点上。|
    |**强制**|参数请求强制回源站。您选择**Range回源**为**强制**后，任何分片请求都会强制分片回源。无论客户端的请求是否是Range请求，都将按照512 KB的分片大小回用户源站，请确保源站支持参数Range。|无|

7.  单击**确定**，完成配置。


