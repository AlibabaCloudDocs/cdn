# CDN的性能衡量指标

本文为您介绍使用CDN前后衡量网站加速情况的主要性能指标。

使用CDN加速能够帮您分担源站压力，加速资源的访问速度。您可以通过CDN的性能衡量指标，观察使用CDN前后网站加速的情况。除了通用的数据观测指标外，不同的场景有更加具体的指标。通过观测相关指标，可以帮助您评估CDN加速的效果，也可以帮助您观测自身业务使用CDN后的情况，帮助您更好地做出业务调整和决策。

## 通用指标

您可以根据下图及下表中的主要性能指标，观察使用CDN前后网站的情况，通用指标包含但不限于如下。

-   上传路径图例

    ![上传](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0280477951/p62892.png)

-   下载路径图例

    ![下载](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0280477951/p63717.png)


|指标|说明|
|--|--|
|DNS时间|指从浏览器终端发起的访问请求开始，到浏览器终端获得最终访问主机IP地址所消耗的时间。|
|TCP时间|指客户端与目标服务器建立TCP连接所消耗的时间。|
|SSL时间|指客户端和Web服务器建立安全套接层（SSL）连接的消耗时间。|
|发送时间|指SSL握手完成开始发送请求到请求发送完成所消耗的时间。|
|建立连接时间|建立连接时间简称为建连时间，如果CDN节点使用HTTP协议加速客户业务，建连时间包含“DNS时间+TCP时间”；如果CDN节点使用HTTPS协议加速客户业务，建连时间包含“DNS时间+TCP时间+SSL时间”。建立连接的时间长短，可以反映CDN服务的节点资源覆盖的丰富程度以及调度能力。|
|响应时间|指浏览器发出HTTP请求后，Web服务器进行后台处理以及响应的时间。|
|下载用时|指您收到Web服务器返回的第一个数据包，到完成下载的总时间。|
|首包时间|指从客户端开始发送请求到收到服务器端返回的第一个HTTP协议数据包之间所需要的时间，首包时间可以反映出CDN服务节点的整体性能。-   在上传路径中，首包时间主要包含了DNS解析时间、TCP用时、SSL用时、发送时间和响应时间。
-   在下载路径中，首包时间主要包含了DNS解析时间、TCP用时、SSL用时、发送时间和响应时间。

**说明：** 刚购买的域名，通常解析时间较长，和CDN的缓存时间无关。 |
|整体性能|指完成整个文件的上传或下载所需要的总时长。|
|丢包率|指在网络传输中丢失数据包的数量占发送数据包总数的比率。|
|回源率|回源率分为回源请求数比例及回源流量比例两种：-   回源请求数比：指边缘节点对于没有缓存、缓存过期（可缓存）和不可缓存的请求占全部请求记录的比例。越低则性能越好。
-   回源流量比：回源流量是回源请求文件大小产生的流量和请求本身产生的流量。回源流量比=回源流量÷用户请求访问的流量，比值越低，性能越好。 |
|缓存命中率|CDN缓存命中率包括字节命中率和请求命中率，CDN缓存命中率通用指字节命中率，缓存命中率越高，性能越好。-   字节命中率=CDN缓存命中响应的字节数÷CDN所有请求响应的字节数

**说明：** 字节缓存命中率越低，回源流量越大，源站的流出流量越大，源站的带宽资源以及其他的负载越大，因此回源流量代表了源站服务器接收到的负载压力，在业务使用中主要关心字节缓存命中率。

-   请求命中率=CDN缓存命中的请求数÷CDN所有的请求数 |

**说明：** 表格中提到的回源率、缓存命中率是指使用CDN后的衡量指标，如果您没有使用CDN，回源请求数为100%，缓存命中率为0。

通常使用CDN后的网络延时、丢包率、回源率都会降低，缓存命中率则会提高。但是由于业务场景和业务类型不同，即使您选择了相同配置的CDN服务，实际产生的加速效果也不相同，因此本文仅提供了定性的指标以供观测。

CDN的各类应用场景都各自具有一些具体指标，您可以根据实际业务场景进一步观测：

-   [加速图片小文件的主要指标](#section_8a2_q7p_p3b)
-   [加速大文件下载的主要指标](#section_p6c_q7u_te0)
-   [加速视音频点播的主要指标](#section_6em_fo4_fde)

## 加速图片小文件的主要指标

图片小文件主要指`html`、`js`、`jpg`、`css`等网页素材，图片小文件加速对延迟要求较高，延迟主要包括建立连接时间、首包时间、内容下载时间，其中首包时间是最核心的指标。如果页面加载时间过长，会导致大量用户流失。

针对图片小文件加速，阿里云CDN有专门的应用场景配置指导。详细信息，请参见[t136010.md\#section\_mnp\_tw0\_fz3](/cn.zh-CN/产品简介/应用场景/场景概述.md)。

## 加速大文件下载的主要指标

大文件下载指单个文件的大小在20 MB以上的下载，大文件下载场景最核心的指标是下载速度和下载总时间。

针对大文件下载加速，阿里云CDN有专门的应用场景配置指导。详细信息，请参见[t136010.md\#section\_9n4\_tgj\_a76](/cn.zh-CN/产品简介/应用场景/场景概述.md)。

## 加速视音频点播的主要指标

视音频点播的场景主要涵盖`flv`、`mp4`、`wmv`、`mkv`等视音频文件，在视音频点播场景中的主要衡量指标包括首播时间和卡顿率。

-   首播时间

    指从打开视频到看到视频画面的时间。首播时间通常会受域名解析、连接时间和首包时间的影响。

-   卡顿率

    卡顿指视音频播放、资源加载等场景下出现的画面滞帧，卡顿率主要指把所有用户播放视频的卡顿时间上报，每100个用户里面播放出现卡顿的比例。卡顿率越低，性能越好。


针对视音频点播加速，阿里云CDN有专门的应用场景配置指导。详细信息，请参见[t136010.md\#section\_zuc\_giw\_6og](/cn.zh-CN/产品简介/应用场景/场景概述.md)。

