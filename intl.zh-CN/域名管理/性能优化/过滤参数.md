---
keyword: [过滤参数, 参数过滤, 保留参数]
---

# 过滤参数

如果您的URL请求中携带`?`和参数，可以开启过滤参数功能，有效提高文件缓存命中率，提升分发效率。本文为您详细介绍配置过滤参数的方法。

阿里云CDN的过滤参数功能可分为保留参数和过滤参数，具体说明如下：

-   保留参数

    在大部分URL请求中会包含参数，但是参数内容优先级不高，可以设置忽略参数浏览文件，开启后可以有效提高文件缓存命中率，提升分发效率。

    如果参数有重要含义，例如，包含文件版本信息等，则推荐您设置为保留过滤参数。您最多可以设置10个保留参数，如果请求URL中包含您设置的保留参数，则会携带该参数回源。

    开启过滤参数的作用是忽略URL请求中`?`之后的参数，提高CDN缓存的命中率。例如：第一次访问`http://www.****.com/1.jpg`，CDN没有缓存，直接回源访问数据；第二次访问`http://www.****.com/1.jpg?test1`，由于开启了过滤参数，所以`?`后的参数无需匹配，即可命中CDN缓存`http://www.****.com/1.jpg`。

-   过滤参数

    每个URL都缓存不同的副本在CDN节点上。

    关闭过滤参数后，访问URL需精确匹配`?`之后的参数，提高请求的精确性。例如：第一次访问`http://www.****.com/1.jpg`，CDN没有缓存，直接回源访问数据；第二次访问`http://www.****.com/1.jpg?test1`，由于关闭了过滤参数，所以`?`后的参数需精确匹配，即无法响应CDN缓存内容`http://www.****.com/1.jpg`，需要重新回源获取`http://www.****.com/1.jpg?test1`。


过滤参数包括过滤参数和忽略参数这两个功能。

-   保留过滤参数：保留指定参数，多个参数之间用英文逗号隔开，未指定的参数将不会被保留。
-   忽略参数：删除指定参数，多个参数之间用空格隔开，剩余参数将不会被忽略。

**说明：** URL鉴权功能的优先级高于过滤参数。由于[鉴权方式A](/intl.zh-CN/域名管理/访问控制/URL鉴权配置/鉴权方式A说明.md)中的鉴权信息包含HTTP请求的参数部分，所以CDN优先进行鉴权判断，鉴权通过后在CDN节点缓存一份副本。配置URL鉴权的操作方法，请参见[配置URL鉴权](/intl.zh-CN/域名管理/访问控制/URL鉴权配置/URL鉴权.md)。

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，单击目标域名对应的**管理**。

4.  在指定域名的左侧导航栏，单击**性能优化**。

5.  配置保留参数和过滤参数。

    -   保留参数
        1.  单击**保留参数**区域的**修改配置**。
        2.  打开**过滤参数**开关。
        3.  您可以根据所需配置**保留参数**。

            ![保留参数](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0426449951/p57056.png)

            |参数|说明|
            |--|--|
            |**过滤参数**|过滤参数开关。打开过滤参数开关后，资源回源时会去除URL中`?`之后的参数，提高文件缓存命中率。|
            |**保留参数**|配置需要保留的参数。最多可以配置10个保留参数，用逗号（,）作分隔符 。例如：`http://www.abc.com/a.jpg?x`，**保留参数**配置为`x`。|
            |**保留回源参数**|保留回源参数开关。打开**保留回源参数**开关后，资源回源时，保留所有参数。|

            示例说明：

            CDN节点向源站发起请求`http://www.abc.com/a.jpg?x`，x=1保留。所有类似的请求`http://www.abc.com/a.jpg?x`均响应CDN副本`http://www.abc.com/a.jpg?x`的内容。

        4.  单击**确定**完成配置。
    -   过滤参数
        1.  单击**过滤参数**区域的**修改配置**。
        2.  打开**过滤参数**开关。
        3.  您可以根据所需配置**忽略参数**。

            ![过滤参数](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0426449951/p7304.png)

            |参数|说明|
            |--|--|
            |**过滤参数**|过滤参数开关。打开过滤参数开关后，资源回源时会删除指定参数，剩余参数将不会被删除。|
            |**忽略参数**|配置需要忽略的参数。最多可以配置10个忽略参数，用空格作分隔符。例如：`http://www.abc.com/a.jpg?x`，**忽略参数**配置为`x`。|
            |**保留回源参数**|保留回源参数开关。打开**保留回源参数**开关后，资源回源时，保留所有参数。|

            示例说明：

            CDN节点向源站发起请求`http://www.abc.com/a.jpg?x`，x忽略，`http://www.abc.com/a.jpg?x`会响应不同参数源站的响应内容。

        4.  单击**确定**，完成配置。

