# 开通图像处理

图像处理功能对涉及到图片的所有App和网站都开放，开通后即可使用图像处理功能。您可以根据本文介绍的图像处理操作方法传入缩放、裁剪、旋转等指定参数处理图片，以满足多种业务场景下的图片需求。

## 图像处理开通流程

**说明：** 图像处理为付费服务，当前免费使用，收费时间另行通知。

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，单击目标域名对应的**管理**。

4.  在指定域名的左侧导航栏，单击**性能优化**。

5.  在**图像处理**区域框中，打开**图像处理**开关。

6.  根据界面提示，配置图像处理信息。

    ![开通图像处理](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1663096161/p255870.png)

    |参数|说明|
    |--|--|
    |**支持转换的图片类型**|选择支持转换的图片类型，图像处理支持的图片类型有JPEG、PNG、WebP、BMP、GIF、TIFF、JPEG 2000。|
    |**自适应WEBP**|选择是否开启**自适应WEBP**。开启**自适应WEBP**，可将其他格式图片自动转换为WEBP格式。**说明：** 开启该功能后，短时间内会导致命中率下降，过后会自动恢复正常，请勿在业务高峰期开启。 |
    |**图片自动旋转**|选择是否开启**图片自动旋转**。图片自动旋转只对带有旋转参数的图片生效，开启**图片自动旋转**，可自动调正图片。**说明：** 开启该功能后，短时间内会导致命中率下降，过后会自动恢复正常，请勿在业务高峰期开启。 |
    |**图片自动瘦身**|图片自动瘦身仅支持JPEG和WEBP格式，开启图片自动瘦身可以在不改变原图的宽×高和格式的前提下对图片进行压缩，节省访问流量。您可以选择是否开启**图片自动瘦身**，默认为开启状态，90%指保留原图的90%。

    -   100%：表示不开启。
    -   非100%：表示开启。 |

7.  单击**确定**，完成开通。

    成功开通图像处理功能后，您需要根据下方的图像处理操作方法传入指定参数对图片进行处理。


## 图像处理操作方法

**图像处理操作方法说明**

CDN支持边缘图片处理，处理的类型以参数形式传入。图片处理的请求参数为`image_process`，支持携带多个转换参数，例如`crop`、`rotate`等，多个转换参数用正斜线（/）分隔，CDN将按图像处理转换参数的顺序处理图片。例如`image_process=resize,w_200/rotate,90`表示将图片先按比例缩放至宽200 px，再将图片旋转90°。

-   处理方法：`image_process=action1,param_value1/action2,param_value2`。
-   操作示例：`image_process=resize,l_200/quality,q_90/format,webp`。

**通过图片访问URL处理图片**

您可以在图片的访问URL后添加相应的图片处理参数处理图片，具体如下：

-   格式：`http://example.com/example.jpg?image_process=action,param_value`
    -   `example.com`：您的CDN加速域名。
    -   `example.jpg`：图片名称。
    -   `image_process`：固定参数，标明使用图片处理参数对图片文件进行处理。
    -   `action,param_value`：图像处理的操作（action）即转换参数、参数（param）和值（value），用于定义图片处理的方式。图像处理支持的转换参数，请参见[图像处理转换参数](#section_tte_xhn_v81)。
-   示例：`http://example.com/example.jpg?image_process=resize,w_200/rotate,90`

## 图像处理转换参数

CDN支持携带一个或多个转换参数处理图片，下表为您汇总了图片处理的转换参数，您可以根据实际需求，对CDN上的原图进行处理。

|图片处理功能|转换参数|说明|
|------|----|--|
|[格式转换](/intl.zh-CN/域名管理/性能优化/图像处理/格式转换.md)|format|转换图片格式。|
|[质量转换](/intl.zh-CN/域名管理/性能优化/图像处理/质量转换.md)|quality|调整图片质量。|
|[图片裁剪](/intl.zh-CN/域名管理/性能优化/图像处理/图片裁剪.md)|crop|裁剪指定大小的图片。|
|[图片缩放](/intl.zh-CN/域名管理/性能优化/图像处理/图片缩放.md)|resize|将图片缩放至指定大小。|
|[图片旋转](/intl.zh-CN/域名管理/性能优化/图像处理/图片旋转.md)|-   图片自动旋转：auto-orient
-   指定旋转方向：rotate

|将携带旋转参数的图片进行自适应旋转或按指定角度以顺时针方向旋转图片。|
|[图片色彩](/intl.zh-CN/域名管理/性能优化/图像处理/图片色彩.md)|-   图片亮度：bright
-   图片对比度：contrast
-   图片锐化：sharpen

|调整图片的亮度、对比度和清晰度。|
|[水印管理](/intl.zh-CN/域名管理/性能优化/图像处理/水印管理.md)|watermark|为图片添加图片水印或文字水印。|
|[获取信息](/intl.zh-CN/域名管理/性能优化/图像处理/获取信息.md)|info|获取图片信息，包括图片的长、宽、高、图片格式和图片质量等信息。|

