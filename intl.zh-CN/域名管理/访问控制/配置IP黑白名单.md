---
keyword: [, cdn白名单, ip黑名单, ip白名单]
---

# 配置IP黑白名单

您可以通过配置IP黑白名单来实现对访客身份的识别和过滤，从而限制访问CDN资源的用户，提升CDN的安全性。通过本文您可以了解IP黑白名单的配置方法。

-   IP黑名单：黑名单内的IP均无法访问当前资源。

    如果您的IP被加入黑名单，该IP的请求仍可访问到CDN节点，但是会被CDN节点拒绝并返回403，CDN日志中仍会记录这些黑名单中的IP请求记录。

-   IP白名单：只有白名单内的IP能访问当前资源，白名单以外的IP均无法访问当前资源。

**说明：**

-   IP黑名单和白名单均支持IPv6地址（地址中的字母仅支持大写字母）。例如：2001:DB8:0:23:8:800:200C:417A或2001:0DB8:0000:0023:0008:0800:200C:417A。IPv6地址不支持缩写格式，例如：2001:0DB8::0008:0800:200C:417A。
-   IP黑名单和白名单均支持IP网段添加。例如：192.168.0.0/24，24表示采用子网掩码中的前24位有效位，即用32-24=8 bit表示主机号，该子网可以容纳2^8-2=254台主机。故192.168.0.0/24表示IP网段范围是：192.168.0.1~192.168.0.254。

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，单击目标域名对应的**管理**。

4.  在指定域名的左侧导航栏，单击**访问控制**。

5.  单击**IP黑/白名单**页签。

6.  在**IP黑/白名单**区域，单击**修改配置**。

7.  根据界面提示，配置IP**黑名单**或**白名单**。

    |参数|说明|
    |--|--|
    |**名单类型**|IP名单类型如下：

    -   黑名单

黑名单内的IP均无法访问当前资源。

    -   白名单

只有白名单内的IP能访问当前资源，白名单以外的IP均无法访问当前资源。

**说明：** 黑名单和白名单互斥，同一时间只支持其中一种方式生效。 |
    |**规则**|最多可以配置5000个IP地址，使用回车符分隔，不可配置重复网段，例如：127.0.0.0/24。**说明：** 如果需要精准限制客户端IP地址，需要配置xff IP地址到黑白名单地址（阿里云CDN黑名单默认采取X-Forwarded-For（xff）限制）。xff IP获取方式，请参见[获取客户端真实IP](/intl.zh-CN/接入WAF/获取客户端真实IP.md)。 |

8.  单击**确定**，完成配置。


## API接口

您可以调用BatchSetCdnDomainConfig进行域名批量配置，通过设置ip\_black\_list\_set和ip\_allow\_list\_set分别指定IP黑名单和IP白名单，请参见[批量配置域名](/intl.zh-CN/新版API参考/域名管理类接口/批量配置域名.md)。

