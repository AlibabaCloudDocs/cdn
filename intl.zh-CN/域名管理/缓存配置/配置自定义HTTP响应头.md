---
keyword: [HTTP响应头, CDN, 跨域请求]
---

# 配置自定义HTTP响应头

HTTP响应头是HTTP消息头中的其中一个部分，HTTP消息头准确地描述了正在获取的资源、服务器或客户端的行为，定义了HTTP事务中的具体操作参数。通过配置自定义HTTP响应头，当您请求加速域名下的资源时，可以在返回的响应消息中添加您配置的响应头，以实现跨域访问。

HTTP消息头是指在超文本传输协议HTTP（Hypertext Transfer Protocol）的请求和响应消息中，协议头部的组件。在HTTP消息头中，按其出现的上下文环境分为通用头、请求头和响应头等。

跨域资源共享CORS（Cross-Origin Resource Sharing）简称跨域访问，是HTML5提供的标准跨域解决方案，允许Web应用服务器进行跨域访问控制，使得跨域数据传输得以安全进行。

## 适用场景

当您的业务用户请求业务资源时，您可以在返回的响应消息中配置响应头，以实现跨域访问。当CDN收到一个跨域请求时，会读取CDN上对应的CORS规则，然后进行相应的权限检查。CDN会依次检查每一条规则，使用第一条匹配的规则来允许请求并返回对应的Header。如果所有规则都匹配失败，则不附加任何CORS相关的Header。

HTTP响应头的配置属于域名维度的配置，一旦配置生效，便会对域名下所有资源的响应消息生效。配置HTTP响应头仅影响客户端（例如浏览器）的响应行为，不会影响到CDN节点的缓存行为。泛域名暂不支持配置自定义HTTP响应头。

## 操作步骤

1.  登录[CDN控制台](https://cdn.console.aliyun.com)。

2.  在左侧导航栏，单击**域名管理**。

3.  在**域名管理**页面，单击目标域名对应的**管理**。

4.  在指定域名的左侧导航栏，单击**缓存配置**。

5.  单击**自定义HTTP响应头**页签。

6.  单击**添加**，配置自定义HTTP响应头。

    下面以增加自定义HTTP响应头为例，为您介绍配置方法。

    ![HTTP头设置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/6323674161/p69929.png)

    |参数|说明|
    |--|--|
    |**响应头操作**|您可以增加、删除、变更和替换指定的响应头。|
    |**自定义响应头参数**|选择自定义响应头参数。详细信息，请参见[响应头参数](#section_wj7_ax2_xre)。|
    |**自定义响应头名称**|当自定义响应头参数选择为**自定义**时，需要配置自定义响应头名称。自定义响应头名称要求如下：    -   由大小写字母、短划线（-）和数字组成。
    -   长度为1~100个字符。 |
    |**响应头值**|输入您要设置的响应头值。详细信息，请参见[响应头参数](#section_wj7_ax2_xre)。|
    |**是否允许重复**|    -   **允许**：允许重复将会保留源站返回的头，同时会加上一个同名的头。
    -   **不允许**：如果不允许重复，源站返回的头会被新配置的同名头覆盖。 |

7.  单击**确定**，完成配置。

    成功配置自定义HTTP响应头后，您可以在**自定义HTTP响应头**列表中，对当前的配置进行**修改**或**删除**操作。


## 响应头参数

|响应头参数|说明|示例|
|:----|:-|--|
|自定义|支持添加自定义响应头。自定义响应头名称要求如下：-   由大小写字母、短划线（-）和数字组成。
-   长度为1~100个字符。

|Test-Header|
|Cache-Control|指定客户端程序请求和响应遵循的缓存机制。|no-cache|
|Content-Disposition|指定客户端程序把请求所得的内容存为一个文件时提供的默认的文件名。|123.txt|
|Content-Type|指定客户端程序响应对象的内容类型。|image|
|Pragma|Pragma HTTP 1.0是用于实现特定指令的响应头，具有通过请求和响应链实现各种效果的功能，可用于兼容HTTP 1.1。|no-cache|
|Access-Control-Allow-Origin|指定允许的跨域请求的来源。填写星号（\*）表示全部域名；您也可以填写完整域名，例如`www.aliyun.com`。|\*|
|Access-Control-Allow-Methods|指定允许的跨域请求方法。可同时设置多个方法，多个方法用英文逗号（,）分隔。|POST,GET|
|Access-Control-Allow-Headers|指定允许的跨域请求字段。|X-Custom-Header|
|Access-Control-Expose-Headers|指定允许访问的自定义头信息。|Content-Length|
|Access-Control-Allow-Credentials|该响应头表示是否可以将对请求的响应暴露给页面。-   返回true：表示可以暴露。
-   返回其他值：表示不可以暴露。

|true|
|Access-Control-Max-Age|指定客户端程序对特定资源的预请求返回结果的缓存时间，单位为秒。|600|

## 相关API

[BatchSetCdnDomainConfig](/intl.zh-CN/新版API参考/域名管理类接口/批量配置域名.md)

